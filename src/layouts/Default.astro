---
import { ViewTransitions } from 'astro:transitions';

import Head from "../components/Head.astro";
import Header from "../components/Header.astro";

import "../styles/page.css";
import "../styles/page_components.css";

---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width" />
        <Head />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
        />
    </head>
    <ViewTransitions/>

    <body>
        <script>
            import 'sakana-widget/lib/index.css';
            import SakanaWidget from 'sakana-widget';
          
            if (typeof window !== 'undefined') {
                const github = SakanaWidget.getCharacter('chisato');
                if (github) {
                    github.image = `oh-mai-gotto.png`;
                    github.initialState = {
                        ...github.initialState,
                        i: 0.0045,
                        d: 0.992,
                    };
                    SakanaWidget.registerCharacter('github', github);
                }
                
                const mountWidget = () => {
                    const options = {
                        character: 'github',
                        controls: false
                    };
                    new SakanaWidget(options).mount('#sakana-widget');
                };
                
                window.addEventListener('DOMContentLoaded', mountWidget);
            }
        </script>
        <Header/>
        <div>
            <main>
            <slot/>
            </main>
        </div>
        <div id="sakana-widget" style="position: fixed;bottom: 0;right: 0;z-index: 99;"></div>
    </body>
    
</html>